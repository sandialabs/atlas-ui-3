---
# Secret - sensitive values substituted from .env via envsubst at deploy time.
# Do NOT commit this file with real values; run.sh generates it on the fly.
apiVersion: v1
kind: Secret
metadata:
  name: atlas-secrets
  namespace: atlas
type: Opaque
stringData:
  ATLAS_AUTH_SECRET: "${ATLAS_AUTH_SECRET}"
  OPENAI_API_KEY: "${OPENAI_API_KEY}"
  ANTHROPIC_API_KEY: "${ANTHROPIC_API_KEY}"
  GOOGLE_API_KEY: "${GOOGLE_API_KEY}"
  OPENROUTER_API_KEY: "${OPENROUTER_API_KEY}"
  CEREBRAS_API_KEY: "${CEREBRAS_API_KEY}"
  GROQ_API_KEY: "${GROQ_API_KEY}"
  S3_ACCESS_KEY: "${S3_ACCESS_KEY}"
  S3_SECRET_KEY: "${S3_SECRET_KEY}"
  CAPABILITY_TOKEN_SECRET: "${CAPABILITY_TOKEN_SECRET}"
---
# ConfigMap - non-sensitive environment variables
apiVersion: v1
kind: ConfigMap
metadata:
  name: atlas-config
  namespace: atlas
data:
  DEBUG_MODE: "false"
  ATLAS_HOST: "0.0.0.0"
  PORT: "8000"
  APP_NAME: "ATLAS"
  ENVIRONMENT: "production"
  USE_MOCK_S3: "false"
  S3_ENDPOINT: "http://minio:9000"
  S3_BUCKET_NAME: "${S3_BUCKET_NAME}"
  S3_REGION: "us-east-1"
  S3_TIMEOUT: "30"
  S3_USE_SSL: "false"
  LOG_LEVEL: "INFO"
  AUTH_REDIRECT_URL: "/login"
  ATLAS_AUTH_SESSION_HOURS: "${ATLAS_AUTH_SESSION_HOURS}"
  FEATURE_RAG_ENABLED: "false"
  FEATURE_TOOLS_ENABLED: "true"
  FEATURE_MARKETPLACE_ENABLED: "true"
  FEATURE_FILES_PANEL_ENABLED: "true"
  FEATURE_CHAT_HISTORY_ENABLED: "false"
  FEATURE_AGENT_MODE_AVAILABLE: "true"
  FEATURE_METRICS_LOGGING_ENABLED: "false"
  FEATURE_SUPPRESS_LITELLM_LOGGING: "true"
  BANNER_ENABLED: "true"
  USE_NEW_FRONTEND: "true"
  AGENT_MAX_STEPS: "30"
  AGENT_DEFAULT_ENABLED: "true"
  AGENT_LOOP_STRATEGY: "think-act"
  REQUIRE_TOOL_APPROVAL_BY_DEFAULT: "false"
  FORCE_TOOL_APPROVAL_GLOBALLY: "false"
  MCP_DISCOVERY_TIMEOUT: "30"
  MCP_CALL_TIMEOUT: "120"
