#############################################
# Core / Development
#############################################
# Development mode - skip authentication when true
DEBUG_MODE=true

MOCK_RAG=true

# Server configuration
PORT=8000
APP_NAME=ATLAS

# Authentication configuration
# Header name to extract authenticated username from reverse proxy
# Different reverse proxy setups use different header names (e.g., X-User-Email, X-Authenticated-User, X-Remote-User)
# Default: X-User-Email
# AUTH_USER_HEADER=X-User-Email

# Proxy secret authentication (optional security layer)
# When enabled, the reverse proxy must include a secret header to authenticate itself
# This ensures the application only accepts requests from the trusted reverse proxy
# FEATURE_PROXY_SECRET_ENABLED=false
# PROXY_SECRET_HEADER=X-Proxy-Secret
# PROXY_SECRET=your-secure-random-secret-here
# AUTH_REDIRECT_URL=/auth

# Agent mode configuration
AGENT_MAX_STEPS=10
AGENT_DEFAULT_ENABLED=true
AGENT_MODE_AVAILABLE=true

# API Keys for LLM services
OPENAI_API_KEY=sk-pro
ANTHROPIC_API_KEY=your_anthropic_api_key_here
GOOGLE_API_KEY=your_google_api_key_here
OPENROUTER_API_KEY=sk-or
CEREBRAS_API_KEY=your_cerebras_api_key_here


# Banner system configuration
BANNER_ENABLED=true


# Example .env configuration for OpenTelemetry logging

# Environment mode (development or production)
ENVIRONMENT=development

#############################################
# UI / Frontend
#############################################

# Frontend build-time app name (Vite will inject this into index.html)
VITE_APP_NAME=Chat UI 13

# OpenTelemetry configuration (optional - for future use)
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
# OTEL_SERVICE_NAME=atlas-ui-3-backend
# OTEL_SERVICE_VERSION=1.0.0

# Log level override (DEBUG, INFO, WARNING, ERROR)
# LOG_LEVEL=INFO

USE_NEW_FRONTEND=true

#############################################
# Feature Flags (rollout controls)
# Toggle advanced capabilities without changing code.
# Set to true to enable in UI + API; false hides & suppresses data.
# These are initialized to reflect your current enabled features.
#############################################
FEATURE_WORKSPACES_ENABLED=false    # Workspace selector (none configured yet)
FEATURE_RAG_ENABLED=false            # RAG sources (MOCK_RAG currently true)
FEATURE_TOOLS_ENABLED=true          # MCP / tools panel
FEATURE_MARKETPLACE_ENABLED=true   # Marketplace browsing (disabled)
FEATURE_FILES_PANEL_ENABLED=true    # Uploaded/session files panel
FEATURE_CHAT_HISTORY_ENABLED=false   # Previous chat history list
FEATURE_COMPLIANCE_LEVELS_ENABLED=false  # Compliance level filtering for MCP servers and data sources
FEATURE_SPLASH_SCREEN_ENABLED=false  # Startup splash screen for displaying policies and information
FEATURE_DOMAIN_WHITELIST_ENABLED=false  # Restrict access to whitelisted email domains (config/defaults/domain-whitelist.json)

# (Adjust above to stage rollouts. For a bare-bones chat set them all to false.)

#############################################
# Configuration File Names
# Override the default names for configuration files.
# Useful for testing or managing multiple configurations.
#############################################
# SPLASH_CONFIG_FILE=splash-config.json    # Splash screen configuration file name
# MCP_CONFIG_FILE=mcp.json                   # MCP servers configuration file name
# LLM_CONFIG_FILE=llmconfig.yml            # LLM models configuration file name
# HELP_CONFIG_FILE=help-config.json        # Help page configuration file name


# ths might be need for mcp serves to know where to download the files.
# CHATUI_BACKEND_BASE_URL=http://127.0.0.1:8000


# Agent mode configuration
AGENT_MAX_STEPS=30
AGENT_DEFAULT_ENABLED=true
# Agent mode availability (renamed to align with other FEATURE_* flags)
FEATURE_AGENT_MODE_AVAILABLE=true
# Agent loop strategy: react (structured reasoning) or think-act (faster, concise)
AGENT_LOOP_STRATEGY=think-act

# Tool approval configuration
# Require approval by default for all tools (can be overridden per-tool in mcp.json)
REQUIRE_TOOL_APPROVAL_BY_DEFAULT=false
# Force approval for all tools (admin-enforced) regardless of per-tool or default settings
# Set to true to require approval for every tool call
FORCE_TOOL_APPROVAL_GLOBALLY=false

APP_LOG_DIR=/workspaces/atlas-ui-3/logs

CAPABILITY_TOKEN_SECRET=blablah

#############################################
# S3/MinIO Storage Configuration
#############################################
# Choose ONE option below (comment out the other)

# --- Option 1: Mock S3 (Default - No Docker required) ---
USE_MOCK_S3=true

# --- Option 2: MinIO (Requires Docker) ---
# Uncomment below and set USE_MOCK_S3=false to use MinIO
# USE_MOCK_S3=false
# S3_ENDPOINT=http://localhost:9000
# S3_BUCKET_NAME=atlas-files  # Must match bucket created in docker-compose.yml
# S3_ACCESS_KEY=minioadmin
# S3_SECRET_KEY=minioadmin
# S3_REGION=us-east-1
# S3_TIMEOUT=30
# S3_USE_SSL=false


# Content Security Policy (CSP) configuration
# IMPORTANT: To allow external URLs in iframes (for MCP tools that use iframe display),
# add the URLs to the frame-src directive. Example:
# SECURITY_CSP_VALUE="... frame-src 'self' blob: data: https://example.com https://dashboard.example.com; ..."
# HERE the www.sandia.gov is added as an allowed iframe source.
SECURITY_CSP_VALUE="default-src 'self'; img-src 'self' data: blob:; script-src 'self'; style-src 'self' 'unsafe-inline'; connect-src 'self'; frame-src 'self' blob: data: https://www.sandia.gov; frame-ancestors 'self'"
